version: 1
type: refactoring
name: RearrangeClassMembers
maintainer: Raphael Jenni

primaryParameter:
  id: inputFile
  type: filePath # filePath, folderPath, wildcardPath, string, int, boolean
  description: The file to be refactored.

positionalParameters:
  - id: configFile
    type: filePath
    extensions:
      - .yaml
      - .yml
    description: Config file defining the order of the class members.
    longDescription: ./configFile.md

run:
  - id: rearrange_class_members
    supportedExtensions:
      - java
    script:
      - java -jar ./rearrange_class_members-1.0-SNAPSHOT-all.jar $inputFile $configFile > ${inputFile}.out
  - id: mv_files
    dependencies:
      - rearrange_class_members
    script:
      - mv ${inputFile}.out $inputFile
#      - rm -rf ../../../core/
    includeChangeLocations:
      - $inputFile
#  - id: test1
#    dependencies:
#      - mv_files
#    script:
#      - echo "test" > ${inputFile}.out
#      - mkdir ../../../core/
#    includeChangeLocations:
#      - $inputFile

  - id: rearrange_class_members_cs
    supportedExtensions:
      - cs
    script:
      - java -jar ./rearrange_class_members-1.0-SNAPSHOT-all.jar $inputFile $configFile > ${inputFile}.out
      - mv ${inputFile}.out $inputFile
    includeChangeLocations:
      - $inputFile

tests:
  - id: "java"
    description: "Test for java"
    args:
      - "TestFile.java"
      - "default_config.yaml"
  - id: "csharp"
    description: "Test for c sharp"
    args:
      - "TestFile.cs"
      - "default_config.yaml"


documentation:
